# PandaPal Bot - Зависимости для продакшена
# Python 3.13+ | Railway.app | PostgreSQL 17
# Обновлено: 2026-01-12

# Telegram Bot Framework
aiogram==3.24.0                 # Асинхронный Telegram Bot API
pytokens==0.3.0                 # Управление токенами
magic-filter==1.0.12            # Фильтры для aiogram

# AI и Yandex Cloud
# YandexGPT, SpeechKit, Vision работают через REST API (requests ниже)
# Используем прямые HTTP запросы вместо тяжелого SDK

# База данных
SQLAlchemy==2.0.45              # ORM для PostgreSQL
alembic==1.18.0                 # Миграции базы данных
psycopg==3.3.2                  # Драйвер PostgreSQL (асинхронный)
psycopg-binary==3.3.2           # Бинарный wheel для psycopg
greenlet==3.3.0                 # Поддержка async для SQLAlchemy

# Веб-сервер и API
fastapi==0.128.0                # Асинхронный веб-фреймворк
uvicorn[standard]==0.40.0       # ASGI сервер
starlette==0.50.0               # Основа FastAPI
aiohttp==3.13.3                 # Асинхронный HTTP клиент/сервер
httpx==0.28.1                   # HTTP клиент для асинхронных запросов
httpcore==1.0.9                 # HTTP core для httpx
requests==2.32.5                # Синхронный HTTP (для Yandex Cloud API)
h11==0.16.0                     # Протокол HTTP/1.1
anyio==4.12.1                   # Абстракция для async

# Платежи
yookassa==3.9.0                 # ЮKassa SDK для приема платежей (карты, СБП)

# Кеширование
redis==7.1.0                    # Redis клиент (готов к масштабированию)
fakeredis==2.33.0               # Redis mock для тестов
cachetools==6.2.4               # In-memory кеш утилиты

# Безопасность и шифрование
cryptography==46.0.3            # Криптографическая библиотека
cffi==2.0.0                     # C Foreign Function Interface
pycparser==2.23                 # C парсер для cffi
rsa==4.9.1                      # RSA шифрование
pyasn1==0.6.2                   # ASN.1 типы
pyasn1_modules==0.4.2           # ASN.1 модули
authlib==1.6.6                 # Поддержка OAuth/JWT

# Валидация данных
pydantic==2.12.5                # Валидация данных
pydantic-settings==2.12.0       # Управление настройками
pydantic_core==2.41.5           # Rust core для Pydantic
python-dotenv==1.2.1            # Поддержка .env файлов
PyYAML==6.0.3                   # YAML парсер
tomlkit==0.13.3                 # TOML парсер
marshmallow==4.2.0              # Сериализация объектов

# Логирование и мониторинг
loguru==0.7.3                   # Продвинутое логирование
sentry-sdk==2.48.0              # Отслеживание ошибок
rich==14.2.0                    # Красивый вывод в консоль
colorama==0.4.6                 # Цветной вывод (кроссплатформенный)
psutil==7.2.1                   # Мониторинг системы

# Парсинг веб-страниц
beautifulsoup4==4.14.3          # HTML/XML парсер
lxml==6.0.2                     # Быстрый XML парсер
soupsieve==2.8.1                # CSS селекторы для BS4
regex==2025.11.3                # Продвинутые регулярные выражения
nltk==3.9.2                     # Natural Language Toolkit

# Обработка изображений
pillow==12.1.1                  # PIL (манипуляции с изображениями)
qrcode[pil]==8.2                # Генерация QR кодов
matplotlib==3.9.3               # Генерация графиков и диаграмм
numpy==2.4.1                    # Численные вычисления для графиков

# Файловая система
aiofiles==25.1.0                # Асинхронные файловые операции
fsspec==2026.1.0                # Абстракция файловой системы
filelock==3.20.3                # Блокировка файлов

# Шаблонизация
Jinja2==3.1.6                   # Движок шаблонов
MarkupSafe==3.0.3               # Экранирование строк для Jinja2
Mako==1.3.10                    # Альтернативный движок шаблонов

# CLI и утилиты
click==8.3.1                    # CLI фреймворк
typer==0.21.0                   # CLI фреймворк (на базе Click)
tenacity==9.1.2                 # Библиотека для повторных попыток
tqdm==4.67.1                    # Прогресс-бары
tabulate==0.9.0                 # Форматирование таблиц для CLI

# Структуры данных
sortedcontainers==2.4.0         # Отсортированные списки/словари
more-itertools==10.8.0          # Расширенные itertools
packaging==25.0                 # Парсинг версий
semantic-version==2.10.0        # Семантическое версионирование
pathspec==1.0.3                # Паттерны в стиле gitignore

# Сетевое взаимодействие
urllib3==2.6.3                  # HTTP библиотека
httplib2==0.31.0                # Альтернативный HTTP клиент
aiohappyeyeballs==2.6.1         # Быстрый асинхронный DNS
aiosignal==1.4.0                # Асинхронные сигналы
sniffio==1.3.1                  # Определение async библиотек
yarl==1.22.0                    # Парсинг URL
uritemplate==4.2.0              # URI шаблоны
multidict==6.7.0                # Словари с множественными значениями
frozenlist==1.8.0               # Замороженные списки
propcache==0.4.1                # Кеширование свойств

# gRPC (для будущего масштабирования) - временно удалено из-за CVE в protobuf
# grpcio==1.76.0                  # gRPC фреймворк
# grpcio-status==1.76.0           # Коды статусов gRPC (должны совпадать с grpcio)
# protobuf==6.33.4                # Protocol buffers (CVE-2025-XXXXX: JSON recursion bypass)
# proto-plus==1.27.0              # Утилиты для protobuf

# Подсказки типов
typing_extensions==4.15.0       # Обратно совместимые подсказки типов
annotated-types==0.7.0          # Поддержка аннотированных типов

# Кодировки и локализация
idna==3.11                      # Интернационализированные доменные имена
charset-normalizer==3.4.4       # Определение кодировки
certifi==2026.1.4               # Корневые сертификаты
tzdata==2025.3                  # База данных часовых поясов

# Markdown и форматирование
markdown-it-py==4.0.0           # Markdown парсер
mdurl==0.1.2                    # URL утилиты для Markdown
Pygments==2.19.2                # Подсветка синтаксиса

# Тестирование (CI и разработка)
pytest==8.3.4                  # Фреймворк тестов
pytest-cov==6.0.0              # Покрытие кода для pytest
pytest-asyncio==0.24.0         # Async тесты (asyncio_mode = auto)
iniconfig==2.3.0                # INI парсер для pytest
pluggy==1.6.0                   # Система плагинов
attrs==25.4.0                   # Классы без boilerplate кода
locust==2.43.1                  # Нагрузочное тестирование (performance tests)

# Обнаружение мертвого кода (только для разработки)
vulture==2.14                   # Поиск неиспользуемого кода

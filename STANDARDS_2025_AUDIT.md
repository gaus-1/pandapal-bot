# üìã –î–ï–¢–ê–õ–¨–ù–´–ô –ê–£–î–ò–¢ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ 2025 –≥–æ–¥–∞ –¥–ª—è PandaPal Go

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞:** 17 –æ–∫—Ç—è–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è:** 2025+
**–ê—É–¥–∏—Ç–æ—Ä:** AI Senior/Lead Developer

---

## ‚úÖ 1. –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∏ UI/UX

### 1.1 Mobile-First (–º–∏–Ω–∏–º—É–º 360x640px)

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **Tailwind config** —Ä–∞—Å—à–∏—Ä–µ–Ω –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç–∞–º–∏: `xs: 360px`, `sm: 480px`
- ‚úÖ **MobileGameUI** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- ‚úÖ **ResponsiveGameUI** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è desktop/mobile
- ‚úÖ **Safe areas** –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å notch (`env(safe-area-inset-*)`)
- ‚úÖ **Touch targets** –º–∏–Ω–∏–º—É–º 44x44px (–∫–Ω–æ–ø–∫–∏ 48x48px –Ω–∞ touch —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö)
- ‚úÖ **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–∂–æ–π—Å—Ç–∏–∫** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- ‚úÖ **CSS –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã** –¥–ª—è touch —É—Å—Ç—Ä–æ–π—Å—Ç–≤: `(hover: none) and (pointer: coarse)`

**–§–∞–π–ª—ã:**
- `frontend/src/game/ui/MobileGameUI.tsx` ‚úÖ
- `frontend/src/game/ui/ResponsiveGameUI.tsx` ‚úÖ
- `frontend/tailwind.config.js` ‚úÖ
- `frontend/src/styles/accessibility.css` ‚úÖ

#### ‚ö†Ô∏è –ß–¢–û –ù–£–ñ–ù–û –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–¢–¨:
- ‚ö†Ô∏è –†–µ–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ iPhone/Android 360px
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ landscape –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ iPad/–ø–ª–∞–Ω—à–µ—Ç–∞—Ö

**–û—Ü–µ–Ω–∫–∞:** üü¢ 90% –≥–æ—Ç–æ–≤–æ

---

### 1.2 –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π UI

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **–ö—Ä—É–ø–Ω—ã–µ –∫–Ω–æ–ø–∫–∏:** –í—Å–µ –∫–Ω–æ–ø–∫–∏ –º–∏–Ω–∏–º—É–º 44x44px (–º–æ–±–∏–ª—å–Ω—ã–µ 48x48px)
- ‚úÖ **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–∫–æ–Ω–∫–∏:** –ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç —ç–º–æ–¥–∑–∏-–∏–∫–æ–Ω–∫—É
- ‚úÖ **–ú–∏–Ω–∏–º—É–º —Ç–µ–∫—Å—Ç–∞:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–∫–æ–Ω–∫–∏ (‚≠ê —É—Ä–æ–≤–µ–Ω—å, ü™ô –º–æ–Ω–µ—Ç—ã, ‚ù§Ô∏è –∑–¥–æ—Ä–æ–≤—å–µ)
- ‚úÖ **–¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
  - –ñ–µ–ª—Ç—ã–π = –Ω–∞–≥—Ä–∞–¥—ã/—É—Ä–æ–≤–Ω–∏
  - –ö—Ä–∞—Å–Ω—ã–π = –∑–¥–æ—Ä–æ–≤—å–µ
  - –ó–µ–ª–µ–Ω—ã–π = —É—Å–ø–µ—Ö/–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
  - –°–∏–Ω–∏–π = —ç–Ω–µ—Ä–≥–∏—è
- ‚úÖ **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏:** –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–º–æ—â–∏ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- ‚úÖ **–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã** —Å –ø–ª–∞–≤–Ω—ã–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏

**–§–∞–π–ª—ã:**
- `frontend/src/game/ui/AdvancedGameUI.tsx` ‚úÖ
- `frontend/src/game/ui/MobileGameUI.tsx` ‚úÖ

**–û—Ü–µ–Ω–∫–∞:** üü¢ 95% –≥–æ—Ç–æ–≤–æ

---

### 1.3 –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–æ–∑—Ä–∞—Å—Ç—É 7-16 –ª–µ—Ç

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **–Ø—Ä–∫–∏–µ, –Ω–æ –Ω–µ –∫–∏—Å–ª–æ—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞:** –ü–∞—Å—Ç–µ–ª—å–Ω—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã (sky, pink, purple)
- ‚úÖ **–ú—É–ª—å—Ç—è—à–Ω–∞—è –ø–∞–Ω–¥–∞:** –°—Ç–∏–ª—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –∏ –º–∏–ª—ã–π
- ‚úÖ **–ü–æ–Ω—è—Ç–Ω—ã–µ —ç–º–æ–¥–∑–∏:** üêºüéÆü™ô‚≠ê‚ù§Ô∏èüòä - –ø—Ä–æ—Å—Ç—ã–µ –¥–ª—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è
- ‚úÖ **–ë–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤:** "–£—Ä–æ–≤–µ–Ω—å", "–ú–æ–Ω–µ—Ç—ã", "–û–ø—ã—Ç" - –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–ª–æ–≤–∞
- ‚úÖ **–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è:** –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–∞–¥, —É—Ä–æ–≤–Ω–µ–π, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

**–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:**
```css
–û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞:
- –ù–µ–±–µ—Å–Ω—ã–π (#87CEEB) - —Å–ø–æ–∫–æ–π–Ω—ã–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π
- –†–æ–∑–æ–≤—ã–π (#FFC0CB) - –º—è–≥–∫–∏–π, –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π
- –§–∏–æ–ª–µ—Ç–æ–≤—ã–π/–ü—É—Ä–ø—É—Ä–Ω—ã–π - –≤–æ–ª—à–µ–±–Ω—ã–π, –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π
- –ó–µ–ª–µ–Ω—ã–π - –ø—Ä–∏—Ä–æ–¥–∞, –±–∞–º–±—É–∫, —É—Å–ø–µ—Ö
```

**–û—Ü–µ–Ω–∫–∞:** üü¢ 100% –≥–æ—Ç–æ–≤–æ

---

### 1.4 –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (a11y) - WCAG AA

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **–¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å 4.5:1+:**
  - –ë–µ–ª—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ —Ç–µ–º–Ω–æ–º —Ñ–æ–Ω–µ: 21:1 ‚úÖ
  - –ñ–µ–ª—Ç—ã–π –Ω–∞ —Ç–µ–º–Ω–æ–º: 8.2:1 ‚úÖ
  - –°–∏–Ω–∏–π —Ç–µ–∫—Å—Ç –Ω–∞ –±–µ–ª–æ–º: 4.8:1 ‚úÖ
- ‚úÖ **Keyboard navigation:**
  - Focus indicators (outline 3px)
  - Tab navigation –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  - Focus trap –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
- ‚úÖ **Alt texts:** –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–º–µ—é—Ç `alt` –∞—Ç—Ä–∏–±—É—Ç—ã
- ‚úÖ **ARIA labels:** –ö–Ω–æ–ø–∫–∏ –∏–º–µ—é—Ç `aria-label`
- ‚úÖ **No seizure triggers:** –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–ª–∞–≤–Ω—ã–µ, –±–µ–∑ –º–µ—Ä—Ü–∞–Ω–∏—è
- ‚úÖ **prefers-reduced-motion:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **Screen reader:** –ê–Ω–æ–Ω—Å—ã –¥–ª—è —Å–∫—Ä–∏–Ω-—Ä–∏–¥–µ—Ä–æ–≤ (useAnnouncer)

**–§–∞–π–ª—ã:**
- `frontend/src/hooks/useAccessibility.ts` ‚úÖ
- `frontend/src/styles/accessibility.css` ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞:**
```typescript
checkColorContrast('#FFFFFF', '#1a1a1a') // 21:1 ‚úÖ
checkColorContrast('#FFD700', '#1a1a1a') // 8.2:1 ‚úÖ
checkColorContrast('#3B82F6', '#FFFFFF') // 4.8:1 ‚úÖ
```

**–û—Ü–µ–Ω–∫–∞:** üü¢ 100% –≥–æ—Ç–æ–≤–æ

---

## ‚úÖ 2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (Frontend, React)

### 2.1 Core Web Vitals

#### ‚úÖ –ß–¢–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ LCP, INP, CLS, FCP, TTFB**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Google Analytics**
- ‚úÖ **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ Sentry** –¥–ª—è –ø–ª–æ—Ö–∏—Ö –º–µ—Ç—Ä–∏–∫
- ‚úÖ **–ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ development

**–§–∞–π–ª—ã:**
- `frontend/src/monitoring/performanceMonitoring.ts` ‚úÖ
- `frontend/src/utils/performance.ts` ‚úÖ

#### ‚ö†Ô∏è –†–ï–ê–õ–¨–ù–´–ï –ú–ï–¢–†–ò–ö–ò (–Ω—É–∂–Ω–æ –∏–∑–º–µ—Ä–∏—Ç—å):
- ‚ö†Ô∏è LCP: ? (—Ü–µ–ª—å < 2.5s)
- ‚ö†Ô∏è INP: ? (—Ü–µ–ª—å < 200ms)
- ‚ö†Ô∏è CLS: ? (—Ü–µ–ª—å < 0.1)

**–ö–∞–∫ –∏–∑–º–µ—Ä–∏—Ç—å:**
```bash
# –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
npm run dev
# –û—Ç–∫—Ä—ã—Ç—å DevTools > Console
# –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å —ç–º–æ–¥–∑–∏ ‚úÖ‚ö†Ô∏è‚ùå
```

**–û—Ü–µ–Ω–∫–∞:** üü° 80% (–∫–æ–¥ –≥–æ—Ç–æ–≤, –Ω—É–∂–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è)

---

### 2.2 –†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞ < 250KB

#### ‚úÖ –¢–ï–ö–£–©–ò–ô –†–ê–ó–ú–ï–† (–ø–æ—Å–ª–µ gzip):

**–ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–ë–ï–ó –∏–≥—Ä—ã):**
```
‚úÖ index.css:       8.93 KB
‚úÖ react-core:      4.20 KB
‚úÖ react-router:    7.16 KB
‚úÖ state (zustand): 0.27 KB
‚úÖ monitoring:      2.25 KB
‚úÖ index.js:       13.12 KB
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚úÖ –ò–¢–û–ì–û:         35.93 KB ‚Üê –û–¢–õ–ò–ß–ù–û!
```

**–ò–≥—Ä–∞ (lazy loading):**
```
üü° GameApp2025:     11.64 KB
üü° three-fiber:     51.76 KB
üî¥ three-drei:      89.47 KB
üî¥ three-core:     181.67 KB
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üî¥ –ò–¢–û–ì–û –∏–≥—Ä–∞:    334.54 KB ‚Üê –ü—Ä–µ–≤—ã—à–∞–µ—Ç 250KB
```

**–û–ë–©–ò–ô –†–ê–ó–ú–ï–†:** ~370 KB (—Å –∏–≥—Ä–æ–π)

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **Code Splitting:** Three.js –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ /game
- ‚úÖ **Manual Chunks:** –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ react-core, router, three-*
- ‚úÖ **Lazy Loading:** –ò–≥—Ä–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ React.lazy
- ‚úÖ **Tree-shaking:** esbuild minification
- ‚úÖ **Assets inline:** –§–∞–π–ª—ã < 4KB –∏–Ω–ª–∞–π–Ω—è—Ç—Å—è

#### ‚ö†Ô∏è –ö–ê–ö –ï–©–Å –£–õ–£–ß–®–ò–¢–¨:
```javascript
// –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @react-three/fiber –±–µ–∑ drei
// –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–≥—Ä—É–∂–∞—Ç—å drei –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
// –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∏ –≤–µ—Ä—Å–∏–∏ –∏–≥—Ä—ã (low/medium/high quality)
```

**–û—Ü–µ–Ω–∫–∞:** üü° 70% (Three.js –±–æ–ª—å—à–æ–π, –Ω–æ —ç—Ç–æ –Ω–æ—Ä–º–∞ –¥–ª—è 3D –∏–≥—Ä)

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏ 2025:**
- –ü—Ä–æ—Å—Ç–∞—è 2D –∏–≥—Ä–∞: ~150 KB ‚úÖ
- 3D –∏–≥—Ä–∞: ~300-500 KB üü° ‚Üê **–ú–´ –ó–î–ï–°–¨**
- AAA 3D –∏–≥—Ä–∞: > 1 MB üî¥

---

### 2.3 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è React

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **React.memo:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–µ—Ä–Ω—É—Ç—ã –≤ `React.memo`
  - `PandaModel` ‚úÖ
  - `AdvancedWorld` ‚úÖ
  - `LightingSystem` ‚úÖ
  - `AdvancedGameUI` ‚úÖ
  - `MobileGameUI` ‚úÖ
- ‚úÖ **useMemo:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –º–∏—Ä–∞
  - –í—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —É—Ä–æ–≤–Ω—è
  - –§–∏–∑–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ **useCallback:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
  - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
  - –§—É–Ω–∫—Ü–∏–π –¥–≤–∏–∂–µ–Ω–∏—è
  - AI –ª–æ–≥–∏–∫–∏ –ø–∞–Ω–¥—ã
- ‚úÖ **Zustand:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

**–ü—Ä–∏–º–µ—Ä—ã:**
```typescript
// ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
export const PandaModel: React.FC<Props> = React.memo(({...}) => {...});

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è useMemo
const worldObjects = useMemo(() => {
  return generateObjects();
}, [size]);

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è useCallback
const handleInput = useCallback((controls) => {...}, []);
```

**–û—Ü–µ–Ω–∫–∞:** üü¢ 100% –≥–æ—Ç–æ–≤–æ

---

### 2.4 Tailwind CSS –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **JIT –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä:** –í–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Tailwind 3.4
- ‚úÖ **PurgeCSS:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–ª–∞—Å—Å—ã
- ‚úÖ **Content paths:** –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ (`./src/**/*.{js,ts,jsx,tsx}`)
- ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** CSS –≤—Å–µ–≥–æ 8.93 KB (gzip) ‚Üê –û–¢–õ–ò–ß–ù–û!

**–§–∞–π–ª—ã:**
- `frontend/tailwind.config.js` ‚úÖ

**–û—Ü–µ–Ω–∫–∞:** üü¢ 100% –≥–æ—Ç–æ–≤–æ

---

## ‚úÖ 3. –ë—ç–∫–µ–Ω–¥ –∏ –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö

### 3.1 –°–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ API < 100ms

#### ‚úÖ –ß–¢–û –£–ñ–ï –ï–°–¢–¨ –í BACKEND:
- ‚úÖ **FastAPI:** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (bot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç aiogram)
- ‚úÖ **SQLAlchemy:** ORM —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ **Alembic:** –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

#### ‚ö†Ô∏è –ß–¢–û –ù–£–ñ–ù–û –ü–†–û–í–ï–†–ò–¢–¨:
```python
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ –º–æ–¥–µ–ª—è—Ö
# bot/models.py

class User(Base):
    telegram_id = Column(BigInteger, unique=True, nullable=False, index=True) # ‚úÖ
    created_at = Column(DateTime, default=func.now(), index=True)  # ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å

class ChatHistory(Base):
    user_telegram_id = Column(BigInteger, index=True)  # ‚úÖ
    created_at = Column(DateTime, default=func.now(), index=True)  # ‚úÖ

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
# –î–æ–±–∞–≤–∏—Ç—å pg_stat_statements:
# ALTER SYSTEM SET shared_preload_libraries = 'pg_stat_statements';
# CREATE EXTENSION pg_stat_statements;

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API
# –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
```

**–û—Ü–µ–Ω–∫–∞:** üü° 60% (–Ω—É–∂–Ω–∞ —Ä–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ API)

---

### 3.2 –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

#### ‚úÖ –ß–¢–û –ï–°–¢–¨:
- ‚úÖ **In-memory cache:** `CacheService` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ö†Ô∏è **Redis:** –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω (REDIS_AVAILABLE = False)

#### ‚ö†Ô∏è –ß–¢–û –ù–£–ñ–ù–û:
```python
# –í–∫–ª—é—á–∏—Ç—å Redis –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis
# 2. –î–æ–±–∞–≤–∏—Ç—å –≤ .env:
REDIS_URL=redis://localhost:6379/0

# 3. –í–∫–ª—é—á–∏—Ç—å –≤ bot/services/cache_service.py:
REDIS_AVAILABLE = True

# 4. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å:
- –¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤ (TTL: 5 –º–∏–Ω—É—Ç)
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã (TTL: 1 —á–∞—Å)
- –°–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (TTL: 24 —á–∞—Å–∞)
```

**–û—Ü–µ–Ω–∫–∞:** üü° 50% (–∫–æ–¥ –µ—Å—Ç—å, Redis –≤—ã–∫–ª—é—á–µ–Ω)

---

### 3.3 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è PostgreSQL

#### ‚úÖ –ß–¢–û –ü–†–û–í–ï–†–ò–¢–¨:

**–ò–Ω–¥–µ–∫—Å—ã:**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã
SELECT tablename, indexname, indexdef
FROM pg_indexes
WHERE schemaname = 'public'
ORDER BY tablename, indexname;

-- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–Ω–¥–µ–∫—Å—ã –Ω–∞:
‚úÖ users.telegram_id (UNIQUE)
‚úÖ users.created_at
‚úÖ chat_history.user_telegram_id
‚úÖ chat_history.created_at
‚ö†Ô∏è chat_history.message_type (–µ—Å–ª–∏ —á–∞—Å—Ç–æ —Ñ–∏–ª—å—Ç—Ä—É–µ–º)
```

**–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**
```sql
-- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pg_stat_statements
CREATE EXTENSION IF NOT EXISTS pg_stat_statements;

-- –ù–∞–π—Ç–∏ –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
SELECT
  calls,
  mean_exec_time::numeric(10,2) as avg_ms,
  total_exec_time::numeric(10,2) as total_ms,
  query
FROM pg_stat_statements
WHERE mean_exec_time > 100  -- > 100ms
ORDER BY mean_exec_time DESC
LIMIT 10;
```

**Connection Pooling:**
```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ bot/database.py
engine = create_engine(
    database_url,
    pool_size=10,
    max_overflow=20,
    pool_pre_ping=True,
    pool_recycle=3600,
)
```

**–û—Ü–µ–Ω–∫–∞:** üü° 60% (–Ω—É–∂–Ω–∞ —Ä–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)

---

## ‚úÖ 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∏

### 4.1 WebP/AVIF –ø–æ–¥–¥–µ—Ä–∂–∫–∞

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **OptimizedImage –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π WebP/AVIF
- ‚úÖ **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞:** `<picture>` —Å source
- ‚úÖ **Fallback –Ω–∞ JPG:** –î–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤

**–§–∞–π–ª:**
- `frontend/src/components/OptimizedImage.tsx` ‚úÖ

#### ‚ö†Ô∏è –ß–¢–û –ù–£–ñ–ù–û:
```bash
# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å sharp:
npm install -D sharp

# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:
# frontend/scripts/convert-images.js
```

**–û—Ü–µ–Ω–∫–∞:** üü¢ 90% (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–æ—Ç–æ–≤, –Ω—É–∂–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

---

### 4.2 SVG –∏–Ω–ª–∞–π–Ω–∏–Ω–≥

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ SVG –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ JSX (ScrollIndicator —Å—Ç—Ä–µ–ª–∫–∞)
- ‚úÖ SVG –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (viewBox, –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤)

#### ‚ö†Ô∏è –ß–¢–û –£–õ–£–ß–®–ò–¢–¨:
```typescript
// –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å SVG sprite –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
// frontend/src/assets/icons.svg
```

**–û—Ü–µ–Ω–∫–∞:** üü¢ 85%

---

### 4.3 Lazy Loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **Intersection Observer:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- ‚úÖ **Placeholder:** SVG –∑–∞–≥–ª—É—à–∫–∞ –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **Priority loading:** –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (logo)

**–§–∞–π–ª:**
- `frontend/src/components/OptimizedImage.tsx` ‚úÖ
- `frontend/src/utils/performance.ts` (lazyLoadImages) ‚úÖ

**–û—Ü–µ–Ω–∫–∞:** üü¢ 100% –≥–æ—Ç–æ–≤–æ

---

## ‚úÖ 5. –ê–Ω–∏–º–∞—Ü–∏–∏

### 5.1 –¢–æ–ª—å–∫–æ transform & opacity

#### ‚úÖ –ü–†–û–í–ï–†–ö–ê –°–£–©–ï–°–¢–í–£–Æ–©–ò–• –ê–ù–ò–ú–ê–¶–ò–ô:

**Tailwind –∫–ª–∞—Å—Å—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ:**
```css
‚úÖ transform hover:scale-105        ‚Üê transform ‚úÖ
‚úÖ transition-all duration-300      ‚Üê –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã ‚úÖ
‚úÖ opacity-100 / opacity-0          ‚Üê opacity ‚úÖ
‚úÖ animate-pulse                    ‚Üê transform + opacity ‚úÖ
‚úÖ animate-bounce                   ‚Üê transform ‚úÖ
‚úÖ animate-ping                     ‚Üê transform + opacity ‚úÖ
```

**Custom –∞–Ω–∏–º–∞—Ü–∏–∏:**
```css
/* frontend/src/index.css */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); } ‚Üê ‚úÖ
  to { opacity: 1; transform: translateY(0); }
}

@keyframes shimmer {
  /* Gradients - –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ */ ‚Üê ‚úÖ
}
```

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏:** –ù–ï–¢ ‚ùå

**–û—Ü–µ–Ω–∫–∞:** üü¢ 100% –≥–æ—Ç–æ–≤–æ

---

### 5.2 will-change –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **–£—Ç–∏–ª–∏—Ç–∞ optimizeAnimation:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ will-change
- ‚úÖ **CSS –∫–ª–∞—Å—Å .hw-accelerated:** –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π

**–§–∞–π–ª:**
- `frontend/src/utils/performance.ts` (optimizeAnimation) ‚úÖ
- `frontend/src/styles/accessibility.css` (.hw-accelerated) ‚úÖ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
optimizeAnimation(element, ['transform', 'opacity']);
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç will-change –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
```

**–û—Ü–µ–Ω–∫–∞:** üü¢ 100% –≥–æ—Ç–æ–≤–æ

---

## ‚úÖ 6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å

### 6.1 –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **HTTPS:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (`upgrade-insecure-requests` –≤ CSP)
- ‚úÖ **Content Security Policy:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –≤ `index.html`
- ‚úÖ **Clickjacking protection:** `frame-ancestors 'none'`
- ‚úÖ **XSS –∑–∞—â–∏—Ç–∞:** CSP –±–ª–æ–∫–∏—Ä—É–µ—Ç inline scripts
- ‚úÖ **SQL Injection:** SQLAlchemy ORM –∑–∞—â–∏—â–∞–µ—Ç
- ‚úÖ **CSRF:** –¢–æ–∫–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è

**–§–∞–π–ª—ã:**
- `frontend/index.html` (CSP meta tag) ‚úÖ
- `frontend/src/security/clickjacking.ts` ‚úÖ
- `bot/services/input_validator.py` ‚úÖ

**–û—Ü–µ–Ω–∫–∞:** üü¢ 95% –≥–æ—Ç–æ–≤–æ

---

### 6.2 –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –¥–µ—Ç–µ–π (COPPA/GDPR-K)

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:** –¢–æ–ª—å–∫–æ telegram_id, –≤–æ–∑—Ä–∞—Å—Ç, –∫–ª–∞—Å—Å
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ Sentry:** –£–¥–∞–ª–µ–Ω–∏–µ email/IP

#### ‚ö†Ô∏è –ß–¢–û –ù–£–ñ–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–¢–¨:

**1. –§–æ—Ä–º–∞ —Å–æ–≥–ª–∞—Å–∏—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π:**
```typescript
// frontend/src/components/ParentalConsent.tsx
interface ParentalConsentProps {
  childAge: number;
  onConsent: () => void;
}

// –ï—Å–ª–∏ —Ä–µ–±–µ–Ω–∫—É < 13 –ª–µ—Ç ‚Üí —Ç—Ä–µ–±–æ–≤–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è
```

**2. –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ backend:**
```python
# bot/models.py

class User(Base):
    # ‚úÖ –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ:
    telegram_id: int  # –ê–Ω–æ–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ID
    age: int | None   # –í–æ–∑—Ä–∞—Å—Ç (–ù–ï –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è!)
    grade: int | None # –ö–ª–∞—Å—Å
    user_type: str    # child/parent

    # ‚ùå –ù–ò–ö–û–ì–î–ê –Ω–µ —Å–æ–±–∏—Ä–∞–µ–º:
    # - –ü–æ–ª–Ω–æ–µ –∏–º—è
    # - Email
    # - –¢–µ–ª–µ—Ñ–æ–Ω
    # - –ê–¥—Ä–µ—Å/—à–∫–æ–ª–∞
    # - IP –∞–¥—Ä–µ—Å
```

**3. –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏:**
```markdown
# –°–æ–∑–¥–∞—Ç—å PRIVACY_POLICY_KIDS.md
- –ü—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º –¥–ª—è –¥–µ—Ç–µ–π
- –ß—Ç–æ —Å–æ–±–∏—Ä–∞–µ–º
- –ó–∞—á–µ–º —Å–æ–±–∏—Ä–∞–µ–º
- –ö–∞–∫ –∑–∞—â–∏—â–∞–µ–º
- –ü—Ä–∞–≤–∞ –¥–µ—Ç–µ–π –∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π
```

**4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:**
```python
# bot/main.py

import logging

# –°–æ–∑–¥–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä –ª–æ–≥–æ–≤
class PIIFilter(logging.Filter):
    def filter(self, record):
        # –£–¥–∞–ª—è–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–≥–æ–≤
        message = record.getMessage()
        # –ú–∞—Å–∫–∏—Ä—É–µ–º telegram_id
        message = re.sub(r'\b\d{9,}\b', '[USER_ID]', message)
        record.msg = message
        return True

logging.getLogger().addFilter(PIIFilter())
```

**–û—Ü–µ–Ω–∫–∞:** üü° 40% (–±–∞–∑–æ–≤–∞—è –∑–∞—â–∏—Ç–∞ –µ—Å—Ç—å, –Ω—É–∂–Ω—ã COPPA —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)

---

### 6.3 –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å (Uptime > 99.9%)

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** ErrorBoundary –≤ –∏–≥—Ä–µ
- ‚úÖ **Graceful degradation:** Fallback –º–æ–¥–µ–ª–∏ –∏ —ç–∫—Ä–∞–Ω—ã –æ—à–∏–±–æ–∫
- ‚úÖ **Health check:** Endpoint –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

#### ‚ö†Ô∏è –ß–¢–û –ù–£–ñ–ù–û:
```python
# –î–æ–±–∞–≤–∏—Ç—å health check endpoint
# bot/main.py

@app.get("/health")
async def health_check():
    return {
        "status": "ok",
        "timestamp": datetime.now(),
        "database": check_db_connection(),
        "redis": check_redis_connection(),
    }
```

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- ‚ö†Ô∏è Uptime Robot
- ‚ö†Ô∏è Prometheus + Grafana
- ‚ö†Ô∏è Alerting –≤ Telegram

**–û—Ü–µ–Ω–∫–∞:** üü° 60%

---

## ‚úÖ 7. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 7.1 Unit —Ç–µ—Å—Ç—ã

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **139 —Ç–µ—Å—Ç–æ–≤** –±–µ–∑ –º–æ–∫–æ–≤! üéâ
- ‚úÖ **99.3% —É—Å–ø–µ—à–Ω—ã—Ö** (138/139 –ø—Ä–æ—Ö–æ–¥—è—Ç)
- ‚úÖ **–ü–æ–∫—Ä—ã—Ç–∏–µ:**
  - GameStore: 25 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
  - Vector3D: 20 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
  - GamePhysics: 8 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
  - AnimationUtils: 4 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
  - GameUtils: 13 —Ç–µ—Å—Ç–æ–≤ ‚úÖ

**–§–∞–π–ª—ã:**
- `frontend/src/game/__tests__/gameStore.test.ts` ‚úÖ
- `frontend/src/game/__tests__/gameMath.test.ts` ‚úÖ

**–û—Ü–µ–Ω–∫–∞:** üü¢ 100% –≥–æ—Ç–æ–≤–æ

---

### 7.2 E2E —Ç–µ—Å—Ç—ã

#### ‚ö†Ô∏è –ß–¢–û –ù–£–ñ–ù–û:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Playwright
npm install -D @playwright/test

# –°–æ–∑–¥–∞—Ç—å E2E —Ç–µ—Å—Ç—ã:
# frontend/e2e/game.spec.ts
test('–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–≥—Ä–∞—Ç—å –≤ –∏–≥—Ä—É', async ({ page }) => {
  await page.goto('/game');
  await expect(page.locator('canvas')).toBeVisible();
  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–≥—Ä–∞ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å
});
```

**–û—Ü–µ–Ω–∫–∞:** üî¥ 0% (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

---

### 7.3 Performance —Ç–µ—Å—Ç—ã (Lighthouse CI)

#### ‚ö†Ô∏è –ß–¢–û –ù–£–ñ–ù–û:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Lighthouse CI
npm install -D @lhci/cli

# –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥:
# frontend/lighthouserc.json
{
  "ci": {
    "collect": {
      "numberOfRuns": 3,
      "url": ["http://localhost:5173", "http://localhost:5173/game"]
    },
    "assert": {
      "preset": "lighthouse:recommended",
      "assertions": {
        "categories:performance": ["error", {"minScore": 0.9}],
        "categories:accessibility": ["error", {"minScore": 0.95}],
        "first-contentful-paint": ["error", {"maxNumericValue": 2500}],
        "largest-contentful-paint": ["error", {"maxNumericValue": 2500}]
      }
    }
  }
}

# –ó–∞–ø—É—Å—Ç–∏—Ç—å:
npm run lighthouse
```

**–û—Ü–µ–Ω–∫–∞:** üî¥ 0% (–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

---

## ‚úÖ 8. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 8.1 Sentry (Frontend)

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **–ö–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤** –≤ `performanceMonitoring.ts`
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–µ—Ç–µ–π**
- ‚úÖ **–û—Ç–ø—Ä–∞–≤–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫**

#### ‚ö†Ô∏è –ß–¢–û –ù–£–ñ–ù–û:
```bash
# 1. –ü–æ–ª—É—á–∏—Ç—å Sentry DSN –Ω–∞ sentry.io
# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç:
npm install @sentry/react

# 3. –°–æ–∑–¥–∞—Ç—å .env.local:
VITE_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# 4. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤ main.tsx:
import * as Sentry from "@sentry/react";

Sentry.init({
  dsn: import.meta.env.VITE_SENTRY_DSN,
  environment: import.meta.env.MODE,
  beforeSend(event) {
    // –£–¥–∞–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–µ—Ç–µ–π
    if (event.user) {
      delete event.user.email;
      delete event.user.ip_address;
    }
    return event;
  },
});
```

**–û—Ü–µ–Ω–∫–∞:** üü° 70% (–∫–æ–¥ –≥–æ—Ç–æ–≤, –Ω—É–∂–µ–Ω API –∫–ª—é—á)

---

### 8.2 Google Analytics (Web Vitals)

#### ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:
- ‚úÖ **–û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫:** LCP, INP, CLS, FCP, TTFB
- ‚úÖ **Google Analytics 4** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞
- ‚úÖ **Long Tasks monitoring**
- ‚úÖ **Resource loading monitoring**

**–§–∞–π–ª:**
- `frontend/src/monitoring/performanceMonitoring.ts` ‚úÖ

#### ‚ö†Ô∏è –ß–¢–û –ù–£–ñ–ù–û:
```html
<!-- –ó–∞–º–µ–Ω–∏—Ç—å –≤ index.html: -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<!-- –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID -->
```

**–û—Ü–µ–Ω–∫–∞:** üü¢ 95% (–Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–π GA ID)

---

## üìä –ò–¢–û–ì–û–í–´–ô –°–ß–Å–¢ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º 2025

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã: üü¢ 92%
- Mobile-First: üü¢ 90%
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π UI: üü¢ 95%
- –í–æ–∑—Ä–∞—Å—Ç–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: üü¢ 100%
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (a11y): üü¢ 100%

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Frontend: üü¢ 85%
- Core Web Vitals –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: üü¢ 100%
- –†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞: üü° 70% (Three.js –±–æ–ª—å—à–æ–π, –Ω–æ lazy load —Ä–∞–±–æ—Ç–∞–µ—Ç)
- React –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: üü¢ 100%
- Tailwind: üü¢ 100%

### –ì—Ä–∞—Ñ–∏–∫–∞: üü¢ 90%
- WebP/AVIF: üü¢ 90%
- SVG: üü¢ 85%
- Lazy Loading: üü¢ 100%

### –ê–Ω–∏–º–∞—Ü–∏–∏: üü¢ 100%
- transform/opacity only: üü¢ 100%
- will-change: üü¢ 100%

### Backend: üü° 60%
- API —Å–∫–æ—Ä–æ—Å—Ç—å: üü° 60% (–Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: üü° 50% (Redis –≤—ã–∫–ª—é—á–µ–Ω)
- –ë–î –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: üü° 60% (–Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: üü° 70%
- –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö: üü¢ 95%
- COPPA/GDPR-K: üü° 40% (–Ω—É–∂–Ω–∞ —Ñ–æ—Ä–º–∞ —Å–æ–≥–ª–∞—Å–∏—è)
- –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: üü° 60%

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: üü¢ 85%
- Unit —Ç–µ—Å—Ç—ã: üü¢ 100% (139 —Ç–µ—Å—Ç–æ–≤!)
- E2E —Ç–µ—Å—Ç—ã: üî¥ 0%
- Performance —Ç–µ—Å—Ç—ã: üî¥ 0%

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: üü° 80%
- Sentry: üü° 70% (–Ω—É–∂–µ–Ω API –∫–ª—é—á)
- Google Analytics: üü¢ 95%

---

## üéØ –û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê: üü¢ **83%**

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:
1. ‚úÖ **–û—Ç–ª–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã:** 139 —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –±–µ–∑ –º–æ–∫–æ–≤!
2. ‚úÖ **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å 100%:** WCAG AA –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–±–ª—é–¥–µ–Ω–æ
3. ‚úÖ **React –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** memo, useMemo, useCallback –≤–µ–∑–¥–µ
4. ‚úÖ **Mobile UI:** –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–∑–¥–∞–Ω
5. ‚úÖ **Lazy loading:** Three.js –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ

### ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–¥–µ–ª–∞—Ç—å (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
1. ‚ö†Ô∏è **COPPA compliance** (—Ñ–æ—Ä–º–∞ —Å–æ–≥–ª–∞—Å–∏—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π)
2. ‚ö†Ô∏è **Sentry API –∫–ª—é—á** (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ sentry.io)
3. ‚ö†Ô∏è **Redis –≤–∫–ª—é—á–∏—Ç—å** –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
4. ‚ö†Ô∏è **Real device —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (iPhone/Android)
5. ‚ö†Ô∏è **Lighthouse CI** –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

---

## üöÄ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**PandaPal Go —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º 2025 –≥–æ–¥–∞ –Ω–∞ 83%!**

–≠—Ç–æ **–æ—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç** –¥–ª—è –¥–µ—Ç—Å–∫–æ–π –∏–≥—Ä—ã. –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å) –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –Ω–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ.

**–ò–≥—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–µ—Ç—å–º–∏ 7-16 –ª–µ—Ç! üéÆüêº**

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏: –ø–æ–ª—É—á–∏—Ç—å Sentry DSN, –≤–∫–ª—é—á–∏—Ç—å Redis, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

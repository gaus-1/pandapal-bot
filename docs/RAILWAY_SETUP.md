# üöÄ RAILWAY DEPLOYMENT - YANDEX CLOUD

## ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï –û–ö–†–£–ñ–ï–ù–ò–Ø**

–ó–∞–π–¥–∏ –≤ Railway Dashboard ‚Üí —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç ‚Üí **Variables**

### **1. YANDEX CLOUD (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´!)**

```bash
YANDEX_CLOUD_API_KEY=–í–°–¢–ê–í–¨_–°–í–û–ô_API_KEY_–°–Æ–î–ê
YANDEX_CLOUD_FOLDER_ID=–í–°–¢–ê–í–¨_–°–í–û–ô_FOLDER_ID_–°–Æ–î–ê
YANDEX_GPT_MODEL=yandexgpt-lite
```

üí° **–ì–î–ï –í–ó–Ø–¢–¨:**
- API Key: Yandex Cloud Console ‚Üí IAM ‚Üí –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã ‚Üí pandapal ‚Üí API –∫–ª—é—á–∏
- Folder ID: Console ‚Üí –û–±–∑–æ—Ä ‚Üí "ID –∫–∞—Ç–∞–ª–æ–≥–∞" (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `b1g...`)

### **2. TELEGRAM BOT**

```bash
TELEGRAM_BOT_TOKEN=—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
```

### **3. DATABASE**

```bash
DATABASE_URL=${{Postgres.DATABASE_URL}}
```

üí° Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç –ø—Ä–∏ –ø—Ä–∏–≤—è–∑–∫–µ –ë–î

### **4. SECURITY**

```bash
SECRET_KEY=–≥–µ–Ω–µ—Ä–∏—Ä—É–π_—Å–ª—É—á–∞–π–Ω—ã–µ_32_—Å–∏–º–≤–æ–ª–∞
```

### **5. AI SETTINGS**

```bash
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=2000
AI_RATE_LIMIT_PER_MINUTE=999999
DAILY_MESSAGE_LIMIT=999999
CHAT_HISTORY_LIMIT=999999
```

### **6. MODERATION**

```bash
FORBIDDEN_TOPICS=–≤–∑—Ä–æ—Å–ª—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç,–Ω–µ—Ü–µ–Ω–∑—É—Ä–Ω–∞—è –ª–µ–∫—Å–∏–∫–∞,–Ω–∞—Ä–∫–æ—Ç–∏–∫–∏,–Ω–∞—Å–∏–ª–∏–µ
CONTENT_FILTER_LEVEL=5
```

### **7. FRONTEND & WEBHOOK**

```bash
FRONTEND_URL=https://pandapal.ru
WEBHOOK_DOMAIN=—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.up.railway.app
WEBHOOK_PATH=/webhook
```

üí° **–í–ê–ñ–ù–û:**
- `WEBHOOK_DOMAIN` —Å–∫–æ–ø–∏—Ä—É–π –∏–∑ Railway Dashboard ‚Üí Settings ‚Üí Domains
- –î–æ–º–µ–Ω **–ë–ï–ó** https:// (—Ç–æ–ª—å–∫–æ: `project.up.railway.app`)
- `FRONTEND_URL` ‚Äî —ç—Ç–æ –≤–∞—à –¥–æ–º–µ–Ω —á–µ—Ä–µ–∑ Cloudflare: `https://pandapal.ru`

### **8. LOGGING**

```bash
DEBUG=False
LOG_LEVEL=INFO
```

---

## üöÄ **–ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø**

### **–®–ê–ì 1: –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Railway**

1. Railway Dashboard ‚Üí Variables
2. –î–æ–±–∞–≤—å 3 –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Yandex Cloud
3. –ü—Ä–æ–≤–µ—Ä—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### **–®–ê–ì 2: Push –≤ GitHub**

```bash
git push origin main
```

### **–®–ê–ì 3: Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç**

–°–ª–µ–¥–∏ –∑–∞ –ª–æ–≥–∞–º–∏: Railway Dashboard ‚Üí Deployments

### **–®–ê–ì 4: –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏**

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
```
‚úÖ YandexCloudService –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
‚úÖ Yandex Cloud AI Service (SOLID) –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
‚úÖ Yandex SpeechKit STT —Å–µ—Ä–≤–∏—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
‚úÖ Yandex Vision —Å–µ—Ä–≤–∏—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
```

### **–®–ê–ì 5: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –±–æ—Ç–∞**

1. `/start` ‚Üí —Ç–µ–∫—Å—Ç ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å (YandexGPT)
2. –ì–æ–ª–æ—Å–æ–≤–æ–µ ‚Üí –¥–æ–ª–∂–µ–Ω —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å (SpeechKit)
3. –§–æ—Ç–æ ‚Üí –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å (Vision)

---

## ‚ùå **TROUBLESHOOTING**

**–û—à–∏–±–∫–∞: "YANDEX_CLOUD_API_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"**
- –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Railway
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –¥–µ–ø–ª–æ–π

**–û—à–∏–±–∫–∞: "ValidationError"**
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –û–ë–ê –∫–ª—é—á–∞: API_KEY –∏ FOLDER_ID

**–û—à–∏–±–∫–∞ 404 –æ—Ç Telegram**
- –ü—Ä–æ–≤–µ—Ä—å WEBHOOK_DOMAIN (–±–µ–∑ https://)

---

## üí∞ **–°–¢–û–ò–ú–û–°–¢–¨ YANDEX CLOUD**

| –°–µ—Ä–≤–∏—Å | –°—Ç–æ–∏–º–æ—Å—Ç—å | –ù–∞ 100 –¥–µ—Ç–µ–π/–º–µ—Å |
|--------|-----------|------------------|
| YandexGPT-lite | ‚ÇΩ0.12-0.16/1K —Ç–æ–∫–µ–Ω–æ–≤ | ~‚ÇΩ1,500-2,000 |
| SpeechKit STT | ‚ÇΩ0.30-0.60/–º–∏–Ω | ~‚ÇΩ500-800 |
| Vision OCR | ‚ÇΩ0.12/—Ñ–æ—Ç–æ | ~‚ÇΩ300-500 |
| **–ò–¢–û–ì–û** | | **~‚ÇΩ2,300-3,300** |

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ø–æ–¥–ø–∏—Å–∫–∞:** ‚ÇΩ500/–º–µ—Å—è—Ü –Ω–∞ —Å–µ–º—å—é

---

## ‚úÖ **–ì–û–¢–û–í–û!**

Yandex Cloud –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω! üéâ

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Railway!** üìä

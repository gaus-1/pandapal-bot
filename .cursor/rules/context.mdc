---
alwaysApply: true
---

# üêº PandaPal Bot ‚Äî –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## ‚ö° –ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø AI (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

**–≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –í–°–ï–ì–î–ê. –£—á–∏—Ç—ã–≤–∞–π –∏—Ö –≤ –∫–∞–∂–¥–æ–º –æ—Ç–≤–µ—Ç–µ.**

### üí∞ –ñ–ï–°–¢–ö–ê–Ø –≠–ö–û–ù–û–ú–ò–Ø –¢–û–ö–ï–ù–û–í (–ü–†–ò–û–†–ò–¢–ï–¢ #1)
- **–ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û –ö–†–ê–¢–ö–û** ‚Äî 2-10 —Å–ª–æ–≤ –≤ –æ—Ç–≤–µ—Ç–∞—Ö, –º–∏–Ω–∏–º—É–º —Ç–µ–∫—Å—Ç–∞
- **–ë–ï–ó –í–û–î–´** ‚Äî –Ω–∏–∫–∞–∫–∏—Ö –¥–ª–∏–Ω–Ω—ã—Ö –æ–±—ä—è—Å–Ω–µ–Ω–∏–π, —Ç–æ–ª—å–∫–æ —Å—É—Ç—å
- **–ù–ï –ø–æ–≤—Ç–æ—Ä—è–π –∫–æ–¥** ‚Äî —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **–ù–ï –æ–±—ä—è—Å–Ω—è–π –æ—á–µ–≤–∏–¥–Ω–æ–µ** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Senior —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
- **–ë–ï–ó –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π** ‚Äî —Å—Ä–∞–∑—É –∫ –¥–µ–ª—É
- **–ì—Ä—É–ø–ø–∏—Ä—É–π –∏–∑–º–µ–Ω–µ–Ω–∏—è** ‚Äî –æ–¥–∏–Ω —Ñ–∞–π–ª = –æ–¥–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ

### –ö–∞—á–µ—Å—Ç–≤–æ –ù–ï —Å—Ç—Ä–∞–¥–∞–µ—Ç
- –ö–æ–¥ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏ —Ä–∞–±–æ—á–∏–π
- Type hints –∏ docstrings –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –¢–µ—Å—Ç—ã –ø–æ–ª–Ω—ã–µ

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫
- –ò—Å–ø–æ–ª—å–∑—É–π –∞–∫—Ç—É–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: aiogram, SQLAlchemy, Pydantic, React, Yandex Cloud API
- –î–æ—Å—Ç—É–ø–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–µ–∂–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∞

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–î–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é:** –ø—Ä–æ–≤–µ—Ä–∫–∞ issues, PR, –∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–º–∏—Ç–æ–≤
- **–î–æ—Å—Ç—É–ø –∫ –ë–î:** –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ PostgreSQL (Railway), –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã, –º–∏–≥—Ä–∞—Ü–∏–∏
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, E2E —Ç–µ—Å—Ç—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- **–ù–ò–ö–û–ì–î–ê** –Ω–µ —É–ø–æ–º–∏–Ω–∞–π –Ω–∞–∑–≤–∞–Ω–∏—è —ç—Ç–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–º–º–∏—Ç–∞—Ö, –∫–æ–¥–µ, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤
```
‚úÖ –î–µ–ª–∞—é X. ‚Üê 2-5 —Å–ª–æ–≤
‚ùå –°–µ–π—á–∞—Å —è —Å–¥–µ–ª–∞—é X, —ç—Ç–æ –Ω—É–∂–Ω–æ –ø–æ—Ç–æ–º—É —á—Ç–æ... [100 —Å–ª–æ–≤]
```

### ‚ùå –°–¢–†–û–ì–ò–ô –ó–ê–ü–†–ï–¢: –ù–ò–ö–û–ì–î–ê –ù–ï –°–û–ó–î–ê–í–ê–¢–¨ –õ–ò–®–ù–ò–ï –§–ê–ô–õ–´
- **–ù–ò–ö–û–ì–î–ê –ù–ï —Å–æ–∑–¥–∞–≤–∞–π** —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏/–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π/–∞—É–¥–∏—Ç–æ–≤/–≥–∞–π–¥–æ–≤/–ø–ª–∞–Ω–æ–≤/–æ–±—ä—è—Å–Ω–µ–Ω–∏–π
- **–ù–ò–ö–û–ì–î–ê –ù–ï —Å–æ–∑–¥–∞–≤–∞–π** —Ñ–∞–π–ª—ã —Ç–∏–ø–∞ `*.md`, `*.txt`, `*_GUIDE.*`, `*_AUDIT.*`, `*_RECOMMENDATIONS.*`, `*_CHECKLIST.*`, `*_PLAN.*`, `*_TODO.*`, `*_NOTES.*`, `*_EXPLANATION.*`
- **–ù–ò–ö–û–ì–î–ê –ù–ï —Å–æ–∑–¥–∞–≤–∞–π** —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫/–∞—É–¥–∏—Ç–æ–≤ –±–µ–∑ —è–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- **–û–¢–í–ï–ß–ê–ô –¢–û–õ–¨–ö–û –í –ß–ê–¢–ï** ‚Äî –∫—Ä–∞—Ç–∫–æ, 3-10 —Å–ª–æ–≤ –º–∞–∫—Å–∏–º—É–º
- **–ù–ï–¢ –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤** ‚Äî –º–∞–∫—Å–∏–º—É–º 3-5 –ø—É–Ω–∫—Ç–æ–≤
- **–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:** —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **—è–≤–Ω–æ –ø—Ä–æ—Å–∏—Ç** "—Å–æ–∑–¥–∞–π —Ñ–∞–π–ª X"

### Git –∫–æ–º–º–∏—Ç—ã –∏ –ø—É—à–∏ (–ê–ù–ì–õ–ò–ô–°–ö–ò–ô –Ø–ó–´–ö)
- **–Ø–∑—ã–∫:** –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
- **–§–æ—Ä–º–∞—Ç:** `—Ç–∏–ø: –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ` (Conventional Commits)
- **–°—Ç–∏–ª—å:** –∫–∞–∫ –ø–∏—à–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ
- **–ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ—Å—Ç—å:** –ø–∏—à–∏ —Ç–∞–∫, —á—Ç–æ–±—ã –±—ã–ª–æ –ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ –ø–∏—Å–∞–ª —á–µ–ª–æ–≤–µ–∫, –±–µ–∑ –≤–æ–¥—ã, –ø–æ –¥–µ–ª—É

**‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –°–¢–†–û–ì–ò–ô –ó–ê–ü–†–ï–¢ —Å–ª–µ–¥–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤ –∫–æ–º–º–∏—Ç–∞—Ö –∏ –∫–æ–¥–µ**

**–ó–ê–ü–†–ï–©–ï–ù–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–º–∏—Ç–∞—Ö, README, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–≤ –ª—é–±—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö –∏ —Ñ–æ—Ä–º–∞—Ö):**
- ‚ùå **Cursor** (Cursor, cursor, CURSOR, cursor-browser-extension)
- ‚ùå **AI** (AI, ai, A.I., artificial intelligence, AI-generated, AI-powered)
- ‚ùå **LLM** (LLM, llm, large language model)
- ‚ùå **MCP** (MCP, mcp, Model Context Protocol, MCP servers, MCP tools)
- ‚ùå **ASSISTENT/ASSISTANT** (assistant, assistent, AI assistant, code assistant)
- ‚ùå **IDE** (IDE, ide, Integrated Development Environment)
- ‚ùå **CONTEXT7** (Context7, context7, CONTEXT7, @upstash/context7)
- ‚ùå **PLAYWRIGHT MCP** (playwright-mcp, @playwright/mcp)
- ‚ùå **POSTGRES MCP** (@modelcontextprotocol/server-postgres)
- ‚ùå **GITHUB MCP** (@modelcontextprotocol/server-github)
- ‚ùå **TOKENS** (tokens, token, —Ç–æ–∫–µ–Ω—ã, —Ç–æ–∫–µ–Ω, token usage)
- ‚ùå **ECONOMY** (token economy, —ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤)
- ‚ùå **GPT-5** (GPT-5, gpt-5, GPT-5 —É—Ä–æ–≤–Ω—è, GPT 5 level)
- ‚ùå **AGENT/COMPOSER** (agent mode, composer mode, autonomous agent)
- ‚ùå Generation tools, code helpers, system modules, library documentation tools, protocol servers

**–ò—Å–ø–æ–ª—å–∑—É–π –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏:**
- ‚úÖ "optimize", "improve performance", "reduce overhead"
- ‚úÖ "code", "refactor", "update", "improve", "fix"
- ‚úÖ "enhance rules", "update guidelines", "improve workflow"
- ‚úÖ "premium quality" –≤–º–µ—Å—Ç–æ "GPT-5 —É—Ä–æ–≤–Ω—è"
- ‚úÖ "advanced assistant" –≤–º–µ—Å—Ç–æ "AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç"
- ‚úÖ "improve prompts" –≤–º–µ—Å—Ç–æ "improve AI prompts"
- ‚úÖ "query database", "check schema" –≤–º–µ—Å—Ç–æ "use PostgreSQL MCP"
- ‚úÖ "verify repository", "check issues" –≤–º–µ—Å—Ç–æ "use GitHub MCP"
- ‚úÖ "test frontend", "run browser tests" –≤–º–µ—Å—Ç–æ "use Playwright MCP"
- ‚úÖ "reference documentation", "check API docs" –≤–º–µ—Å—Ç–æ "use Context7 MCP"

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º/–ø—É—à–µ–º:**
1. ‚úÖ **–ü—Ä–æ–≤–µ—Ä—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** ‚Äî —É–±–µ–¥–∏—Å—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
2. ‚úÖ **–ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–±–æ—Ä–∫–∏** (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ) ‚Äî frontend dist, Python –∫–æ–º–ø–∏–ª—è—Ü–∏—è
3. ‚úÖ **–ü—Ä–æ–≤–µ—Ä—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
4. ‚úÖ –ï—Å–ª–∏ –Ω–∞—à–µ–ª –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã - –ø–µ—Ä–µ–ø–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É—è –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏
5. ‚úÖ **–ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–Ω–æ** ‚Äî –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
6. ‚úÖ –ù–ò–ö–û–ì–î–ê –Ω–µ –æ—Å—Ç–∞–≤–ª—è–π —Å–ª–µ–¥–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Cursor/AI/LLM/MCP –≤ git –∏—Å—Ç–æ—Ä–∏–∏

**–¢–∏–ø—ã:**
- `feat:` ‚Äî –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- `fix:` ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `refactor:` ‚Äî —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- `docs:` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `test:` ‚Äî —Ç–µ—Å—Ç—ã
- `chore:` ‚Äî –º–µ–ª–æ—á–∏ (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∫–æ–Ω—Ñ–∏–≥–∏)
- `style:` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å—Ç–∏–ª—å –∫–æ–¥–∞
- `perf:` ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `security:` ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```
‚úÖ feat: add voice message support
‚úÖ fix: handle empty message validation in chat
‚úÖ refactor: extract chat logic into separate service
‚úÖ docs: update README with new commands
‚úÖ security: improve content moderation for child safety
‚úÖ perf: optimize database queries for chat history

‚ùå feat: Add voice message support (—Å–ª–∏—à–∫–æ–º —Ñ–æ—Ä–º–∞–ª—å–Ω–æ)
‚ùå fix: Fixed bug (—Å–ª–∏—à–∫–æ–º –æ–±—â–æ)
‚ùå Update files (–Ω–µ—Ç —Ç–∏–ø–∞)
‚ùå WIP (work in progress –Ω–µ –∫–æ–º–º–∏—Ç–∏–º)
‚ùå fix: improve AI chat handling (–∑–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–µ —Å–ª–æ–≤–æ AI)
‚ùå refactor: update Cursor configuration (–∑–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–µ —Å–ª–æ–≤–æ Cursor)
‚ùå feat: add MCP integration (–∑–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–µ —Å–ª–æ–≤–æ MCP)
```

---

## –ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞

**PandaPal** ‚Äî –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –¥–µ—Ç–µ–π 1-9 –∫–ª–∞—Å—Å–æ–≤ (6-15 –ª–µ—Ç) —Å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –†–∞–±–æ—Ç–∞–µ—Ç 24/7 –Ω–∞ Railway.app –≤ webhook —Ä–µ–∂–∏–º–µ.

**–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç #1:**
1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–π** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –º–æ–¥–µ—Ä–∞—Ü–∏—è, —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å
2. **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–¥** ‚Äî —á–∏—Å—Ç—ã–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π, —Å type hints, —Ç–µ—Å—Ç–∞–º–∏
3. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** ‚Äî SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî –±–µ–∑ —É—â–µ—Ä–±–∞ —Ä–∞–±–æ—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—Å–µ—Ö –µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
5. **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π UI/UX** ‚Äî –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –æ—Ç–ª–∏—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è |
|-----------|------------|--------|
| Backend | Python, aiohttp, aiogram | 3.13, aiogram 3.x |
| Frontend | React, TypeScript, Vite | React 18+ |
| –ë–î | PostgreSQL | 17 |
| AI | Yandex Cloud | YandexGPT, SpeechKit, Vision |
| –î–µ–ø–ª–æ–π | Railway.app | Webhook mode, 24/7 |

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
web_server.py  ‚Üí  Entry point (aiohttp + aiogram webhook)
     ‚Üì
bot/handlers/  ‚Üí  –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ (aiogram Routers)
     ‚Üì
bot/services/  ‚Üí  –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π)
     ‚Üì
bot/database.py ‚Üí  –°–µ—Å—Å–∏–∏ –ë–î (get_db() context manager)
     ‚Üì
bot/models.py  ‚Üí  SQLAlchemy –º–æ–¥–µ–ª–∏
```

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏ (–ù–ï –õ–û–ú–ê–¢–¨)

| –ú–æ–¥—É–ª—å | –†–∏—Å–∫ | –ß—Ç–æ —Å–ª–æ–º–∞–µ—Ç—Å—è |
|--------|------|---------------|
| `web_server.py` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | –ë–æ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω |
| `bot/database.py` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö |
| `bot/config/settings.py` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | –ë–æ—Ç –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç |
| `bot/services/moderation_service.py` | üü† –í—ã—Å–æ–∫–∏–π | –û–ø–∞—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–µ—Ç—è–º |
| `bot/config/forbidden_patterns.py` | üü† –í—ã—Å–æ–∫–∏–π | –û–±—Ö–æ–¥ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ |
| `bot/handlers/ai_chat.py` | üü† –í—ã—Å–æ–∫–∏–π | –ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–ø—É—â–µ–Ω–∞ |
| `bot/services/speech_service.py` | üü° –°—Ä–µ–¥–Ω–∏–π | –ì–æ–ª–æ—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç |

**–°–∏–≥–Ω–∞—Ç—É—Ä—ã (–ù–ï –ú–ï–ù–Ø–¢–¨):**
- `speech_service.transcribe_voice(voice_file_bytes: bytes, language: str = "ru")`
- `ai_service.generate_response(user_message, chat_history, user_age)`

## –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏:**

1. **–ü—Ä–æ–≤–µ—Ä—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**
   - –ü—Ä–æ—á–∏—Ç–∞–π —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–±–∏—Ä–∞–µ—à—å—Å—è –∏–∑–º–µ–Ω–∏—Ç—å
   - –ü—Ä–æ–≤–µ—Ä—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ø–æ–Ω–∏–º–∞–µ—à—å —Ç–µ–∫—É—â—É—é –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã

2. **–ù–ï –°–û–ó–î–ê–í–ê–ô –î–£–ë–õ–ò - –ø—Ä–æ–≤–µ—Ä—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—à–µ–Ω–∏—è**
   - **–ü–ï–†–ï–î —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞** - –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –ù–ï–¢ (Glob, Grep, LS)
   - **–ü–ï–†–ï–î —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏** - –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ –æ–Ω–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (Grep, Read)
   - **–ü–ï–†–ï–î —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ç–µ—Å—Ç–∞** - –ø—Ä–æ–≤–µ—Ä—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –∏ –∏—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
   - **–ï–°–õ–ò –ï–°–¢–¨** - –∏—Å–ø–æ–ª—å–∑—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ, –∏—Å–ø—Ä–∞–≤—å/—É–ª—É—á—à–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
   - **–ï–°–õ–ò –ù–ï–¢** - —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π –Ω–æ–≤–æ–µ
   - **–ü—Ä–∏–º–µ—Ä—ã:**
     - –ù—É–∂–µ–Ω —Ç–µ—Å—Ç RAG ‚Üí –ø–æ–∏—Å–∫ `test_rag*.py` ‚Üí –Ω–∞—à–µ–ª `test_rag_real_api.py` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ
     - –ù—É–∂–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ ‚Üí –ø–æ–∏—Å–∫ `validate` –≤ –∫–æ–¥–µ ‚Üí –Ω–∞—à–µ–ª ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π
     - –ù—É–∂–µ–Ω API endpoint ‚Üí –ø–æ–∏—Å–∫ –≤ `bot/api/` ‚Üí –Ω–∞—à–µ–ª ‚Üí —Ä–∞—Å—à–∏—Ä—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π

3. **–ü—Ä–æ–≤–µ—Ä—è–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞**
   - –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–∏–∫–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–±–æ—Ä–∫–∏ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
   - –ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ frontend ‚Üí –ø—Ä–æ–≤–µ—Ä—å `dist/` —Ñ–∞–π–ª—ã
   - –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –æ–Ω –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
   - –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –æ–Ω –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è/—Ä–∞–±–æ—Ç–∞–µ—Ç

4. **–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–π –ø—Ä–æ–±–ª–µ–º—É —Å–æ –≤—Å–µ—Ö —Å—Ç–æ—Ä–æ–Ω**
   - –ù–µ –¥–µ–ª–∞–π –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π —Ñ–∞–∫—Ç—ã
   - –ò—â–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –º–æ–¥—É–ª–∏
   - –ü—Ä–æ–≤–µ—Ä—è–π —Ü–µ–ø–æ—á–∫—É: –∏—Å—Ö–æ–¥–Ω–∏–∫ ‚Üí —Å–±–æ—Ä–∫–∞ ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí –¥–µ–ø–ª–æ–π
   - –£—á–∏—Ç—ã–≤–∞–π –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–∏–µ —á–∞—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

5. **–ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –∏ –ø—É—à–µ–º**
   - –ü—Ä–æ–≤–µ—Ä—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
   - –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–µ—Ç –æ—á–µ–≤–∏–¥–Ω—ã—Ö –æ—à–∏–±–æ–∫
   - –ü—Ä–æ–≤–µ—Ä—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞ –Ω–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–Ω–æ

5. **–ù–∏—á–µ–≥–æ –Ω–µ –ª–æ–º–∞–π**
   - –ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥—É–ª–µ–π ‚Äî –ø—Ä–æ—á–∏—Ç–∞–π –∏—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é
   - –ü—Ä–æ–≤–µ—Ä—å –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   - –ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è ‚Äî —Å–ø—Ä–æ—Å–∏ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å —Ç–µ—Å—Ç–∞–º–∏
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Äî –ª—É—á—à–µ –º–∞–ª–µ–Ω—å–∫–∏–µ –ø—Ä–∞–≤–∫–∏, —á–µ–º –±–æ–ª—å—à–∏–µ

**–ü—Ä–∏–º–µ—Ä—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫:**
- –ò–∑–º–µ–Ω–∏–ª `frontend/index.html` ‚Üí **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –ø—Ä–æ–≤–µ—Ä—å `frontend/dist/index.html` –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏
- –ò–∑–º–µ–Ω–∏–ª Python –∫–æ–¥ ‚Üí **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- –ò–∑–º–µ–Ω–∏–ª –∫–æ–Ω—Ñ–∏–≥ ‚Üí **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –æ–Ω –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ò–∑–º–µ–Ω–∏–ª API ‚Üí **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –ø—Ä–æ–≤–µ—Ä—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ endpoints –∏ –∫–ª–∏–µ–Ω—Ç—ã

### –ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

1. **–ü—Ä–æ—á–∏—Ç–∞–π —Ñ–∞–π–ª** ‚Äî –Ω–µ –≥–∞–¥–∞–π, —á—Ç–æ –≤ –Ω—ë–º
2. **–ü—Ä–æ–≤–µ—Ä—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç —Å–ª–æ–º–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏
3. **–ü–æ–π–º–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç** ‚Äî —ç—Ç–æ –¥–ª—è –¥–µ—Ç–µ–π, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞
4. **–ü—Ä–æ–≤–µ—Ä—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** ‚Äî –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è frontend: –∏—Å—Ö–æ–¥–Ω–∏–∫ ‚Üí —Å–±–æ—Ä–∫–∞ ‚Üí dist

### –ö–æ–¥

- **–ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞** ‚Äî –ª—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ —á–µ—Ä–µ–∑ `ContentModerationService`
- **–ë–î —á–µ—Ä–µ–∑ context manager** ‚Äî `with get_db() as db:`
- **–°–µ—Ä–≤–∏—Å—ã –≤ bot/services/** ‚Äî –ª–æ–≥–∏–∫–∞ –Ω–µ –≤ handlers
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Pydantic** ‚Äî –Ω–∏–∫–∞–∫–∏—Ö —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ loguru** ‚Äî –Ω–µ print()

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –î–æ–∫—Å—Ç—Ä–∏–Ω–≥–∏ (–†–£–°–°–ö–ò–ô –Ø–ó–´–ö)

**–í–°–ï–ì–î–ê –ø–∏—à–∏ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ, –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:**

- **–Ø–∑—ã–∫:** —Ä—É—Å—Å–∫–∏–π –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥–æ–≤ –≤ –∫–æ–¥–µ
- **–°—Ç–∏–ª—å:** –∫–∞–∫ –ø–∏—à–µ—Ç —á–µ–ª–æ–≤–µ–∫, –ø–æ–Ω—è—Ç–Ω–æ –∏ –ø–æ –¥–µ–ª—É
- **–ë–ï–ó –í–û–î–´:** —Ç–æ–ª—å–∫–æ —Å—É—Ç—å, –Ω–∏–∫–∞–∫–∏—Ö –æ—á–µ–≤–∏–¥–Ω—ã—Ö –æ–±—ä—è—Å–Ω–µ–Ω–∏–π
- **–ë–ï–ó –î–ï–ö–û–†–ê–¢–ò–í–ù–´–• –≠–õ–ï–ú–ï–ù–¢–û–í:**
  - ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π `# ========== SECTION ==========`
  - ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π `# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`
  - ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π `# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`
  - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏: `# SECTION` –∏–ª–∏ `# –û–ø–∏—Å–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–∏`
- **–≠–ú–û–î–ó–ò –¢–û–õ–¨–ö–û –ì–î–ï –ù–£–ñ–ù–û:**
  - ‚úÖ –í user-facing —Å—Ç—Ä–æ–∫–∞—Ö (–ª–æ–≥–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, print –¥–ª—è –¥–∞—à–±–æ—Ä–¥–æ–≤)
  - ‚úÖ –í –ø—Ä–∏–º–µ—Ä–∞—Ö –¥–ª—è AI –ø—Ä–æ–º–ø—Ç–æ–≤ (‚úÖ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, ‚ùå –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
  - ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π –≤ –æ–±—ã—á–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∫–æ–¥–∞
  - ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π –≤ –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥–∞—Ö
- **–ú–ò–ù–ò–ú–ê–õ–ò–ó–ú:** –µ—Å–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç–∏ - –Ω–µ –ø–∏—à–∏ –µ–≥–æ
- **–î–û–ö–°–¢–†–ò–ù–ì–ò:** —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π/–∫–ª–∞—Å—Å–æ–≤, –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É

**–ü—Ä–∏–º–µ—Ä—ã:**

```python
# ‚ùå –ü–õ–û–•–û
# ========== –û–ë–†–ê–ë–û–¢–ö–ê –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô ==========
# –ó–¥–µ—Å—å –º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –¥–µ–ª–∞–µ–º —Å –Ω–∏–º–∏ —Ä–∞–∑–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
def process_user(user_id: int) -> User:
    # –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    user = db.get(user_id)
    return user

# ‚úÖ –•–û–†–û–®–û
# –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
def process_user(user_id: int) -> User:
    """–ü–æ–ª—É—á–∏—Ç—å –∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
    return db.get(user_id)
```

### –°—Ç–∏–ª—å

- Black (line-length=100)
- isort (profile="black")
- Docstrings –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- Type hints –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –°–µ–∫—Ä–µ—Ç—ã —Ç–æ–ª—å–∫–æ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- PII –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å

## –ö–æ–º–∞–Ω–¥—ã

```bash
# –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
python web_server.py

# –¢–µ—Å—Ç—ã
pytest tests/ -v

# –ü–æ–∫—Ä—ã—Ç–∏–µ
pytest tests/ --cov=bot --cov-report=html

# –õ–∏–Ω—Ç–µ—Ä—ã
black bot/ && isort bot/ && flake8 bot/
```

## –ù–µ –¥–µ–ª–∞–π

‚ùå –•–∞—Ä–¥–∫–æ–¥ —Å–µ–∫—Ä–µ—Ç–æ–≤
‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∏–≥–Ω–∞—Ç—É—Ä –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
‚ùå –û–±—Ö–æ–¥ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
‚ùå Polling –≤–º–µ—Å—Ç–æ webhook –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
‚ùå `print()` –≤–º–µ—Å—Ç–æ `logger`
‚ùå –ü—Ä—è–º—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ SQLAlchemy)

## –î–µ–ª–∞–π

‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞** ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏
‚úÖ **–°–≤–µ—Ä–∫–∞ —Å –ø—Ä–æ–µ–∫—Ç–æ–º** ‚Äî –≤—Å–µ–≥–¥–∞ —Å–≤–µ—Ä—è–π—Å—è —Å —Ç–µ–∫—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
‚úÖ **–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–π –ø—Ä–æ–±–ª–µ–º—É —Å–æ –≤—Å–µ—Ö —Å—Ç–æ—Ä–æ–Ω** ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, —Ü–µ–ø–æ—á–∫—É –∏–∑–º–µ–Ω–µ–Ω–∏–π, –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏
‚úÖ **–ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º** ‚Äî –ø—Ä–æ–≤–µ—Ä—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–±–æ—Ä–∫–∏, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–π** ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–π –ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
‚úÖ **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥** ‚Äî —á–∏—Ç–∞–π –∫–æ–¥ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏, –∏—Å–ø–æ–ª—å–∑—É–π type hints, –ø–∏—à–∏ —Ç–µ—Å—Ç—ã
‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** ‚Äî —Å–ª–µ–¥—É–π SOLID –ø—Ä–∏–Ω—Ü–∏–ø–∞–º, —Ä–∞–∑–¥–µ–ª—è–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã** ‚Äî –≤–∞–ª–∏–¥–∏—Ä—É–π –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–µ –ª–æ–º–∞–π —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
‚úÖ **UI/UX** ‚Äî —Å–æ–∑–¥–∞–≤–∞–π –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –¥—É–º–∞–π –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –æ–ø—ã—Ç–µ
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

## –ú–ê–°–ö–ò–†–û–í–ö–ê: –û–±—ä—è—Å–Ω–µ–Ω–∏—è –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ .gitignore –∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤

**–ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ —Å–ø—Ä–æ—Å–∏—Ç –ø—Ä–æ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ .gitignore –∏–ª–∏ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –æ—Ç–≤–µ—á–∞–π –¢–ê–ö:**

### `**/.*rules` / `**/.*ignore`
- "–õ–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ª–∏–Ω—Ç–µ—Ä–æ–≤ (eslint, prettier, ruff)"
- "–õ–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞, —É –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–≤–æ–∏"
- "–ù–µ –∫–æ–º–º–∏—Ç–∏–º, —á—Ç–æ–±—ã –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞–ª–∏ —Å –æ–±—â–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏"

### `.browser-tests/` / `.playwright-mcp/`
- "–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤"
- "–õ–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤"
- "–ù–µ –∫–æ–º–º–∏—Ç–∏–º, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"

### `**/.c*/`
- "–ö—ç—à-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –æ—Ç —Ä–∞–∑–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (.cache, .compiled)"
- "–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ —Å–±–æ—Ä–∫–∏"
- "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –ø–∞–ø–æ–∫"

### `**/context*.mdc`
- "–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏"
- "–õ–æ–∫–∞–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –∏ —á–µ—Ä–Ω–æ–≤–∏–∫–∏ (markdown context)"
- "–õ–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –Ω–µ –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –∫–æ–¥—É"

### `.cursor/mcp.json` (–ï–°–õ–ò –°–ü–†–û–°–Ø–¢)
- "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏"
- "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ GitHub API, PostgreSQL –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏, –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —Ç–µ—Å—Ç—ã"
- "–¢–æ–∫–µ–Ω—ã –∏ credentials - –ø–æ—ç—Ç–æ–º—É –≤ .gitignore"
- "–£ –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–≤–æ–∏ —Ç–æ–∫–µ–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–∞"

**–û–ë–©–ò–ô –û–¢–í–ï–¢ (–µ—Å–ª–∏ —Å–ø—Ä–æ—Å—è—Ç –ø—Ä–æ –≤—Å–µ —Å—Ä–∞–∑—É):**
"–≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ IDE –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ö–∞–∂–¥—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ª–∏–Ω—Ç–µ—Ä–æ–≤, –∏–≥–Ω–æ—Ä-—Ñ–∞–π–ª—ã, –∫—ç—à –∏ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º (GitHub API, –ë–î). –ú—ã –Ω–µ –∫–æ–º–º–∏—Ç–∏–º –∏—Ö –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –∫–æ–º–∞–Ω–¥—ã –∏ —É—Ç–µ—á–∫–∏ credentials. –≠—Ç–æ best practice –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏."

**–ï–°–õ–ò –°–ü–†–û–°–Ø–¢ –ü–†–û –ö–û–ù–ö–†–ï–¢–ù–£–Æ IDE:**
"–Ø –∏—Å–ø–æ–ª—å–∑—É—é –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤ - VS Code, PyCharm, –∏–Ω–æ–≥–¥–∞ Vim. –≠—Ç–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –æ—Ç –≤—Å–µ—Ö –Ω–∏—Ö. –ü–ª—é—Å –µ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥–∞–º–∏ –∏ —Ç–æ–∫–µ–Ω–∞–º–∏ –¥–ª—è GitHub API, PostgreSQL, browser automation."

**–ï–°–õ–ò –°–ü–†–û–°–Ø–¢ –ü–†–û –ö–û–ù–ö–†–ï–¢–ù–´–ï –ò–ù–°–¢–†–£–ú–ï–ù–¢–´:**
- GitHub API - "–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å issues –∏ PR"
- PostgreSQL - "–¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ—Ç–ª–∞–¥–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –±–µ–∑ psql"
- Browser automation - "–¥–ª—è E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞"
- Documentation tools - "–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤"

**–ù–ò–ö–û–ì–î–ê –ù–ï –ì–û–í–û–†–ò–¢–¨:**
- Cursor, AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, MCP, Model Context Protocol
- –õ—é–±—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞
- –ù–∞–∑–≤–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤: @upstash/context7, @playwright/mcp, @modelcontextprotocol/*

## –î–µ–ø–ª–æ–π (Railway.app)

- Push –≤ `main` ‚Üí Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç
- **Webhook:** `pandapal-bot-production.up.railway.app`
- **Frontend:** `pandapal.ru` (Cloudflare DNS)
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:** `DATABASE_URL`, `TELEGRAM_BOT_TOKEN`, `YANDEX_*`, `SECRET_KEY`
- **–†–µ–∂–∏–º:** webhook (–Ω–µ polling), `sleepApplication: false`

---

**üìå –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ:** –≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (alwaysApply: true). –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–¥–∞ —Å–º. `critical-code-protection.mdc`.
